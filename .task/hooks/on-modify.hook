#!/usr/bin/env python

"""This hook runs when an existing TaskWarrior task is modified"""

import sys
import json

import hooks.runners

old_task = json.loads(sys.stdin.readline())
new_task = json.loads(sys.stdin.readline())

if __name__ == "__main__":
    new_task = hooks.runners.run(new_task, old_task)
    print(json.dumps(new_task))
