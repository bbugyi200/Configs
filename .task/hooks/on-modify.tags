#!/usr/bin/env python

"""Special tags on-modify hook.

Process special tags when existing tasks are modified.
"""

import sys
import json

import tags

old_task = json.loads(sys.stdin.readline())
new_task = json.loads(sys.stdin.readline())

if __name__ == "__main__":
    new_task = tags.process_del_tags(new_task, old_task)
    new_task = tags.process_add_tags(new_task, old_task=old_task)

    print(json.dumps(new_task))
    sys.exit(0)
